rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Coleção para estações clínicas/modelos
    match /estacoes_clinicas/{stationId} {
      // Qualquer um pode ler as estações (para a listagem)
      allow read: if true;
      // Apenas usuários autenticados podem criar, atualizar ou deletar estações.
      // Para um controle mais granular, você pode adicionar: if request.auth.uid == 'SEU_ADMIN_UID';
      // ou verificar um custom claim de admin: if request.auth.token.admin == true;
      allow write: if request.auth != null;
    }

    // Regra padrão para bloquear todos os outros acessos não especificados.
    // IMPORTANTE: Certifique-se de que outras coleções que seu app possa usar
    // tenham suas próprias regras explícitas, ou serão bloqueadas por esta.
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
